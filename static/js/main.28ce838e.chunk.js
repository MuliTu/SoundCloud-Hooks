(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a(22)},,,,,,function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(7),i=a.n(r),o=(a(14),a(1)),l=a(3),u=a.n(l),s=a(5),d=(a(17),function(e){var t=e.icon,a=e.onClick,n=e.className;return c.a.createElement("button",{onClick:a,className:"btn ".concat(n)},c.a.createElement("div",{className:"fas ".concat(t)}))}),p=Object(n.createContext)(),m=function(){return Object(n.useContext)(p)},E=(a(18),function(e){var t=e.onClickFetchData,a=m(),r=a.dispatch,i=a.state.query,l=Object(n.useState)(""),u=Object(o.a)(l,2),s=u[0],p=u[1];return Object(n.useEffect)(function(){i!==s&&(p(i),t(i))},[i]),c.a.createElement("div",{className:"input-wrapper"},c.a.createElement("input",{value:s,placeholder:"Search...",onChange:function(e){return p(e.target.value)}}),c.a.createElement(d,{onClick:function(){return t(s).then(r({type:"ADD_TO_RECENT_SEARCHERS",payload:s}))},icon:"fa-search"}))}),f="ggX0UomnLs0VmW7qZnCzw";function h(e){return y.apply(this,arguments)}function y(){return(y=Object(s.a)(u.a.mark(function e(t){var a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://api.soundcloud.com/tracks.json?client_id=".concat(f,"&q=").concat(t,"&limit=50"),e.next=3,fetch(a);case 3:return n=e.sent,e.abrupt("return",n.json());case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}a(19);var v=function(e){var t=e.path,a=e.onClickFunction;return c.a.createElement("img",{src:t||"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/480px-No_image_available.svg.png",alt:"poster",width:200,onClick:a})},k=(a(20),function(e){var t=e.data,a=e.index,r=m(),i=r.dispatch,l=r.state.viewMode,u=Object(n.useState)(!1),s=Object(o.a)(u,2),d=s[0],p=s[1];function E(){p(!1),i({type:"TRACK",payload:t})}return l?c.a.createElement("div",{onClick:function(){return p(!0)},className:"art ".concat(d?"fly":""),onAnimationEnd:function(){return E()}},c.a.createElement(v,{path:t.artwork_url})):c.a.createElement("div",{onClick:function(){return p(!0)},className:"track ".concat(d?"fly":""),onAnimationEnd:function(){return E()}},a+1,". ",t.title)}),b=function(e){var t=e.data,a=e.view,n=e.index;return c.a.createElement("div",{className:"search-results"},t.map(function(e,t){return c.a.createElement("div",{key:t},c.a.createElement(k,{index:t,data:e,view:a}))}).slice(n,function(e,t){return e+6>t?t%(e+6):e+6}(n,t.length)))},O=function(e){var t=e.onClickNext,a=e.dispatch;return c.a.createElement("div",null,c.a.createElement(d,{className:"next-button",onClick:t,icon:"fa-chevron-circle-right"}),c.a.createElement(d,{className:"view-buttons",onClick:function(){return a({type:"CHANGE_VIEW_MODE",payload:!1})},icon:"fa-list-ul"}),c.a.createElement(d,{className:"view-buttons",onClick:function(){return a({type:"CHANGE_VIEW_MODE",payload:!0})},icon:"fa-table"}))},C=function(e){return c.a.createElement("div",{className:"container ".concat(e.optionalClassName)},e.children)},j=function(){var e=m(),t=e.dispatch,a=e.state,r=a.tracksList,i=a.viewMode,l=Object(n.useState)(0),d=Object(o.a)(l,2),p=d[0],f=d[1];function y(){return(y=Object(s.a)(u.a.mark(function e(a){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"UPDATE_QUERY",payload:a}),e.t0=t,e.next=4,h(a);case 4:e.t1=e.sent,e.t2={type:"UPDATE_LIST",payload:e.t1},(0,e.t0)(e.t2);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}Object(n.useEffect)(function(){},[r]);return c.a.createElement(C,{optionalClassName:"search"},c.a.createElement(E,{onClickFetchData:function(e){return y.apply(this,arguments)}}),c.a.createElement(b,{data:r,view:i,index:p}),c.a.createElement(O,{onClickNext:function(){return f(function(e,t){return e+6>=t.length?0:e+6}(p,r))},dispatch:t}))},_=function(e){var t=e.path,a=e.type,n=e.isHidden;return c.a.createElement("audio",{controls:!n,id:"audio",src:"".concat(t,"?client_id=").concat(f),preload:"auto",itemType:"audio/".concat(a)})},w=function(){var e,t=Object(n.useState)(!0),a=Object(o.a)(t,2),r=a[0],i=a[1],l=m().state.currentTrack;return c.a.createElement(C,null,(e=l,Object.keys(e).length>0?c.a.createElement("div",null,c.a.createElement(v,{path:l.artwork_url,onClickFunction:function(){document.getElementById("audio").play(),i(!1)}}),c.a.createElement(_,{path:l.stream_url,isHidden:r,type:l.original_format})):c.a.createElement("h6",null,"Choose track")))},N=function(){var e=m(),t=e.dispatch,a=e.state.history;return c.a.createElement(C,null,c.a.createElement("h3",null,"Recent Searches"),c.a.createElement("hr",null),a.slice(0,5).map(function(e,a){return c.a.createElement("div",{key:a,onClick:function(){return t({type:"HISTORY_GOT_CLICKED",payload:e})},className:"track"},e)}))},T=a(2),g=a(4),x={viewMode:Boolean("true"===localStorage.getItem("view")),history:[],query:"",currentTrack:{},tracksList:[]},A=function(e,t){switch(t.type){case"TRACK":var a=e.tracksList.indexOf(t.payload),n=[].concat(Object(g.a)(e.tracksList.slice(0,a)),Object(g.a)(e.tracksList.slice(a+1,e.tracksList.length)));return e.currentTrack?Object(T.a)({},e,{tracksList:[].concat(Object(g.a)(n),[e.currentTrack]),currentTrack:t.payload}):Object(T.a)({},e,{tracksList:n,currentTrack:t.payload});case"UPDATE_LIST":return Object(T.a)({},e,{tracksList:t.payload});case"UPDATE_QUERY":return Object(T.a)({},e,{query:t.payload});case"ADD_TO_RECENT_SEARCHERS":return Object(T.a)({},e,{query:t.payload,history:[t.payload].concat(Object(g.a)(e.history))});case"HISTORY_GOT_CLICKED":return Object(T.a)({},e,{query:t.payload});case"CHANGE_VIEW_MODE":return localStorage.setItem("view",t.payload),Object(T.a)({},e,{viewMode:t.payload});default:return e}},S=(a(21),function(){var e=Object(n.useReducer)(A,x),t=Object(o.a)(e,2),a=t[0],r=t[1];return c.a.createElement("div",{className:"App"},c.a.createElement(p.Provider,{value:{state:a,dispatch:r}},c.a.createElement(j,null),c.a.createElement(w,null),c.a.createElement(N,null)))});i.a.render(c.a.createElement(S,null),document.getElementById("root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.28ce838e.chunk.js.map