{"version":3,"sources":["state/context.js","hook.js","Row/Row.js","smallComponents/IconButton/IconButton.js","api.js","functions.js","smallComponents/Input/Input.js","Search/Search.js","Image/Image.js","RecentSearches/RecentSearches.js","state/reducer.js","state/types.js","App.js","index.js"],"names":["createContext","useAppContext","useContext","Context","Row","_ref","data","index","view","dispatch","_useState","useState","_useState2","Object","slicedToArray","isAnimetd","setIsAnimated","afterAnimation","type","payload","react_default","a","createElement","onClick","className","concat","onAnimationEnd","src","artwork_url","alt","width","title","IconButton","icon","API_KEY","getTracks","_x","_getTracks","apply","this","arguments","_callee","query","url","response","regenerator_default","wrap","_context","prev","next","fetch","sent","abrupt","json","stop","Input","_useAppContext","state","myQuery","setQuery","_useState3","_useState4","results","setResults","fetchDataFromAPI","_fetchDataFromAPI","asyncToGenerator","mark","t0","t1","useEffect","finally","value","placeholder","onChange","e","target","smallComponents_IconButton_IconButton","then","Search","_useAppContext$state","tracksList","viewMode","setIndex","smallComponents_Input_Input","map","track","key","src_Row_Row","filter","trackIndex","length","Image","isHidden","setIsHidden","currentTrack","keys","document","getElementById","play","controls","id","uri","preload","itemType","original_format","RecentSearches","history","recentSearches","slice","initialState","Boolean","localStorage","getItem","reducer","action","indexOf","newTrackList","toConsumableArray","objectSpread","setItem","App","_useReducer","useReducer","_useReducer2","context","Provider","Search_Search","src_Image_Image","src_RecentSearches_RecentSearches","ReactDOM","render","src_App_0"],"mappings":"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","file":"static/js/main.4ef9e836.chunk.js","sourcesContent":["import { createContext } from 'react'\n\nexport default createContext()","import { useContext } from 'react'\nimport Context from './state/context'\n\nexport const useAppContext = () => {\n    return useContext(Context)\n};","import React, {useState} from 'react';\nimport './style.scss'\nimport {useAppContext} from \"../hook\";\n\nconst Row = ({data, index, view}) => {\n    const {dispatch} = useAppContext();\n\n    const [isAnimetd, setIsAnimated] = useState(false);\n\n    const afterAnimation = () => {\n        setIsAnimated(false);\n        dispatch({type: 'TRACK', payload: data})\n    };\n\n    return (\n        view ?\n\n            <div\n                onClick={() => setIsAnimated(true)}\n                className={`art ${isAnimetd ? 'fly' : ''}`}\n                onAnimationEnd={() => afterAnimation()}>\n                <img src={data.artwork_url}\n                     alt='poster'\n                     width={200}\n                />\n            </div>\n            :\n            <div\n                onClick={() => setIsAnimated(true)}\n                className={`track ${isAnimetd ? 'fly' : ''}`}\n                onAnimationEnd={() => afterAnimation()}>\n                {index + 1}. {data.title}\n            </div>\n\n    );\n};\n\nexport default Row;\n","import React from 'react';\nimport './style.scss'\n\nconst IconButton = ({icon,onClick,className}) => {\n    return (\n        <button onClick={onClick} className={`btn ${className}`}>\n            <div className={`fas ${icon}`}/>\n        </button>\n    );\n};\n\nexport default IconButton;\n","export const API_KEY = 'ggX0UomnLs0VmW7qZnCzw';","import {API_KEY} from \"./api\";\n\nexport async function getTracks(query) {\n    const url = `http://api.soundcloud.com/tracks.json?client_id=${API_KEY}&q=${query}&limit=50`;\n    const response = await fetch(url);\n    return  response.json()\n\n}","import React, {useState, useEffect} from 'react';\nimport IconButton from \"../IconButton/IconButton\";\nimport {getTracks} from \"../../functions\";\nimport {useAppContext} from \"../../hook\";\nimport './style.scss'\n\n\nconst Input = () => {\n    const {dispatch, state: {query}} = useAppContext();\n    const [myQuery, setQuery] = useState('');\n    const [results, setResults] = useState([]);\n\n    const queryChangeHandler = (e) => setQuery(e.target.value);\n\n    useEffect(() => {\n        if (query !== myQuery) {\n            setQuery(query);\n            fetchDataFromAPI(query).finally()\n        }\n        dispatch({type: 'UPDATE_LIST', payload: results})\n    }, [query, results]);\n\n    async function fetchDataFromAPI(query) {\n        dispatch({type: 'UPDATE_QUERY', payload: query});\n        setResults(await getTracks(query));\n    }\n\n    const addToRecentSearches = (query) => dispatch({type: 'ADD_TO_RECENT_SEARCHERS', payload: query});\n\n\n    return (\n        <div className='input-wrapper'>\n            <input className='input'\n                   value={myQuery}\n                   placeholder={'Search...'}\n                   onChange={queryChangeHandler}/>\n            <IconButton onClick={() => fetchDataFromAPI(myQuery).then(addToRecentSearches(myQuery))} icon={'fa-search'}/>\n        </div>\n    );\n};\n\nexport default Input;\n","import React, { useState } from 'react'\n\nimport Row from \"../Row/Row\";\nimport IconButton from \"../smallComponents/IconButton/IconButton\";\nimport Input from \"../smallComponents/Input/Input\";\nimport {useAppContext} from \"../hook\";\nimport './style.scss'\n\nexport const Search = () => {\n    const {dispatch, state: {tracksList, viewMode}} = useAppContext();\n\n    const INDEX_INCREMENT = 6;\n    const [index, setIndex] = useState(0);\n\n\n    const incrementIndex = () => setIndex((index + INDEX_INCREMENT) > tracksList.length ? 0 : index + INDEX_INCREMENT);\n\n    const myFilter = (track, trackIndex) => trackIndex >= index && trackIndex < (index + INDEX_INCREMENT);\n\n    const trackEntity = (track, index) => (\n        <div key={index}>\n            <Row index={index} data={track} view={viewMode}/>\n        </div>\n    );\n\n\n    return (\n        <div className='container search'>\n            <Input/>\n            <div className='search-results'>\n                {\n                    tracksList.map(trackEntity).filter(myFilter)\n                }\n            </div>\n            <div>\n                <IconButton className={'next-button'}\n                            onClick={incrementIndex}\n                            icon={'fa-chevron-circle-right'}/>\n\n                <IconButton className={'view-buttons'}\n                            onClick={() => dispatch({type: 'CHANGE_VIEW_MODE', payload: false})}\n                            icon={'fa-list-ul'}/>\n\n                <IconButton className={'view-buttons'}\n                            onClick={() => dispatch({type: 'CHANGE_VIEW_MODE', payload: true})}\n                            icon={'fa-table'}/>\n            </div>\n        </div>\n    )\n};\n\n","import React , { useState } from 'react';\nimport {useAppContext} from \"../hook\";\nimport {API_KEY} from \"../api\";\n\nconst Image = () => {\n\n    const [isHidden, setIsHidden] = useState(true);\n    const {state: {currentTrack}} = useAppContext();\n    const isEmpty = () => {\n        return Object.keys(currentTrack).length > 0\n    };\n\n    const playMusic = () => {\n        const audio = document.getElementById('audio');\n        audio.play();\n        setIsHidden(false)\n    };\n    return (\n        <div className='container '>\n            {isEmpty() ?\n                <div>\n                    <img onClick={playMusic}\n                        src={currentTrack.artwork_url} width={290} alt={'art poster'}/>\n                    <audio\n                    controls={!isHidden}\n                        id='audio'\n                    src={`${currentTrack.uri}/stream?client_id=${API_KEY}`}\n                           preload='auto'\n                           itemType={`audio/${currentTrack.original_format}`}>\n                        Sound\n                    </audio>\n                </div>\n                :\n                <h6>Choose track</h6>}\n\n        </div>\n    );\n};\n\nexport default Image;\n","import React from 'react';\nimport { useAppContext } from \"../hook\";\n\nconst RecentSearches = () => {\n    const {dispatch, state: {history}} = useAppContext();\n\n    const recentSearchesEntity = (recentSearches, index) => (\n        <div key={index} onClick={() => dispatch({type: 'HISTORY_GOT_CLICKED', payload: recentSearches})}\n             className='track'\n        >{recentSearches}\n        </div>\n    );\n    return (\n        <div className='container'>\n            <h3>Recent Searches</h3>\n            <hr/>\n            {history.map(recentSearchesEntity).slice(0, 5)}\n        </div>\n    );\n};\n\nexport default RecentSearches;\n","import {\n    ADD_TO_RECENT_SEARCHERS,\n    CHANGE_VIEW_MODE,\n    HISTORY_GOT_CLICKED,\n    TRACK,\n    UPDATE_LIST,\n    UPDATE_QUERY\n} from \"./types\";\n\nexport const initialState = {\n    viewMode: Boolean(localStorage.getItem('view') === 'true'),\n    history: [],\n    query: '',\n    currentTrack: {},\n    tracksList: []\n};\n\nconst reducer = (state, action) => {\n    switch (action.type) {\n        case TRACK:\n            const index = state.tracksList.indexOf(action.payload);\n            const newTrackList = [...state.tracksList.slice(0,index),...state.tracksList.slice(index +1 , state.tracksList.length)];\n            if(state.currentTrack){\n                return {...state,\n                    tracksList: [...newTrackList, state.currentTrack],\n                    currentTrack: action.payload};\n            }\n            return {...state, tracksList: newTrackList, currentTrack: action.payload};\n\n        case UPDATE_LIST:\n            return {...state, tracksList: action.payload};\n\n        case UPDATE_QUERY:\n            return {...state, query: action.payload};\n\n        case ADD_TO_RECENT_SEARCHERS:\n            return {...state, query: action.payload, history: [action.payload, ...state.history]};\n\n        case HISTORY_GOT_CLICKED:\n            return {...state, query: action.payload};\n\n        case CHANGE_VIEW_MODE:\n            localStorage.setItem('view', action.payload);\n            return {...state, viewMode: action.payload};\n\n        default:\n            return state;\n\n\n    }\n\n};\n\nexport default reducer;","export const TRACK = 'TRACK';\nexport const UPDATE_LIST = 'UPDATE_LIST';\nexport const UPDATE_QUERY = 'UPDATE_QUERY';\nexport const ADD_TO_RECENT_SEARCHERS = 'ADD_TO_RECENT_SEARCHERS';\nexport const HISTORY_GOT_CLICKED = 'HISTORY_GOT_CLICKED';\nexport const CHANGE_VIEW_MODE = 'CHANGE_VIEW_MODE';","import React, {useReducer} from 'react';\nimport {Search} from \"./Search/Search\";\nimport Image from \"./Image/Image\";\nimport RecentSearches from \"./RecentSearches/RecentSearches\";\nimport reducer, {initialState} from \"./state/reducer\";\nimport Context from './state/context'\nimport './App.scss';\n\nconst App = () => {\n    const [state, dispatch] = useReducer(reducer, initialState);\n\n\n    return (\n        <div className=\"App\">\n            <Context.Provider value={{state, dispatch}}>\n                <Search/>\n                <Image/>\n                <RecentSearches/>\n            </Context.Provider>\n        </div>\n    );\n};\n\nexport default App;\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}