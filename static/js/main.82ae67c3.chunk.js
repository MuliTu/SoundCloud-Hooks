(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a(22)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(7),i=a.n(r),o=(a(14),a(1)),u=(a(15),Object(n.createContext)()),l=function(){return Object(n.useContext)(u)},s=function(e){var t=e.data,a=e.index,r=e.view,i=l().dispatch,u=Object(n.useState)(!1),s=Object(o.a)(u,2),d=s[0],m=s[1],p=function(){m(!1),i({type:"TRACK",payload:t})};return r?c.a.createElement("div",{onClick:function(){return m(!0)},className:"art ".concat(d?"fly":""),onAnimationEnd:function(){return p()}},c.a.createElement("img",{src:t.artwork_url,alt:"poster",width:200})):c.a.createElement("div",{onClick:function(){return m(!0)},className:"track ".concat(d?"fly":""),onAnimationEnd:function(){return p()}},a+1,". ",t.title)},d=(a(16),function(e){var t=e.icon,a=e.onClick,n=e.className;return c.a.createElement("button",{onClick:a,className:"btn ".concat(n)},c.a.createElement("div",{className:"fas ".concat(t)}))}),m=a(3),p=a.n(m),E=a(5);function f(e){return y.apply(this,arguments)}function y(){return(y=Object(E.a)(p.a.mark(function e(t){var a,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="http://api.soundcloud.com/tracks.json?client_id=ggX0UomnLs0VmW7qZnCzw&q=".concat(t,"&limit=50"),e.next=3,fetch(a);case 3:return n=e.sent,e.abrupt("return",n.json());case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}a(19);var v=function(){var e=l(),t=e.dispatch,a=e.state.query,r=Object(n.useState)(""),i=Object(o.a)(r,2),u=i[0],s=i[1],m=Object(n.useState)([]),y=Object(o.a)(m,2),v=y[0],O=y[1];function b(e){return h.apply(this,arguments)}function h(){return(h=Object(E.a)(p.a.mark(function e(a){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"UPDATE_QUERY",payload:a}),e.t0=O,e.next=4,f(a);case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}Object(n.useEffect)(function(){a!==u&&(s(a),b(a).finally()),t({type:"UPDATE_LIST",payload:v})},[a,v]);return c.a.createElement("div",{className:"input-wrapper"},c.a.createElement("input",{className:"input",value:u,placeholder:"Search...",onChange:function(e){return s(e.target.value)}}),c.a.createElement(d,{onClick:function(){return b(u).then(t({type:"ADD_TO_RECENT_SEARCHERS",payload:u}))},icon:"fa-search"}))},O=(a(20),function(){var e=l(),t=e.dispatch,a=e.state,r=a.tracksList,i=a.viewMode,u=Object(n.useState)(0),m=Object(o.a)(u,2),p=m[0],E=m[1];return c.a.createElement("div",{className:"container search"},c.a.createElement(v,null),c.a.createElement("div",{className:"search-results"},r.map(function(e,t){return c.a.createElement("div",{key:t},c.a.createElement(s,{index:t,data:e,view:i}))}).filter(function(e,t){return t>=p&&t<p+6})),c.a.createElement("div",null,c.a.createElement(d,{className:"next-button",onClick:function(){return E(p+6>r.length?0:p+6)},icon:"fa-chevron-circle-right"}),c.a.createElement(d,{className:"view-buttons",onClick:function(){return t({type:"CHANGE_VIEW_MODE",payload:!1})},icon:"fa-list-ul"}),c.a.createElement(d,{className:"view-buttons",onClick:function(){return t({type:"CHANGE_VIEW_MODE",payload:!0})},icon:"fa-table"})))}),b=function(){var e=Object(n.useState)(!0),t=Object(o.a)(e,2),a=t[0],r=t[1],i=l().state.currentTrack;return c.a.createElement("div",{className:"container "},Object.keys(i).length>0?c.a.createElement("div",null,c.a.createElement("img",{onClick:function(){document.getElementById("audio").play(),r(!1)},src:i.artwork_url,width:290,alt:"art poster"}),c.a.createElement("audio",{controls:!a,id:"audio",src:"".concat(i.uri,"/stream?client_id=ggX0UomnLs0VmW7qZnCzw"),preload:"auto",itemType:"audio/".concat(i.original_format)},"Sound")):c.a.createElement("h6",null,"Choose track"))},h=function(){var e=l(),t=e.dispatch,a=e.state.history;return c.a.createElement("div",{className:"container"},c.a.createElement("h3",null,"Recent Searches"),c.a.createElement("hr",null),a.map(function(e,a){return c.a.createElement("div",{key:a,onClick:function(){return t({type:"HISTORY_GOT_CLICKED",payload:e})},className:"track"},e)}).slice(0,5))},k=a(2),j=a(4),C={viewMode:Boolean("true"===localStorage.getItem("view")),history:[],query:"",currentTrack:{},tracksList:[]},w=function(e,t){switch(t.type){case"TRACK":var a=e.tracksList.indexOf(t.payload),n=[].concat(Object(j.a)(e.tracksList.slice(0,a)),Object(j.a)(e.tracksList.slice(a+1,e.tracksList.length)));if(e.currentTrack){var c=[].concat(Object(j.a)(n),[e.currentTrack]);return Object(k.a)({},e,{tracksList:c,currentTrack:t.payload})}return Object(k.a)({},e,{tracksList:n,currentTrack:t.payload});case"UPDATE_LIST":return Object(k.a)({},e,{tracksList:t.payload});case"UPDATE_QUERY":return Object(k.a)({},e,{query:t.payload});case"ADD_TO_RECENT_SEARCHERS":return Object(k.a)({},e,{query:t.payload,history:[t.payload].concat(Object(j.a)(e.history))});case"HISTORY_GOT_CLICKED":return Object(k.a)({},e,{query:t.payload});case"CHANGE_VIEW_MODE":return localStorage.setItem("view",t.payload),Object(k.a)({},e,{viewMode:t.payload});default:return e}},_=(a(21),function(){var e=Object(n.useReducer)(w,C),t=Object(o.a)(e,2),a=t[0],r=t[1];return c.a.createElement("div",{className:"App"},c.a.createElement(u.Provider,{value:{state:a,dispatch:r}},c.a.createElement(O,null),c.a.createElement(b,null),c.a.createElement(h,null)))});i.a.render(c.a.createElement(_,null),document.getElementById("root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.82ae67c3.chunk.js.map